(this["webpackJsonplist-users"]=this["webpackJsonplist-users"]||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){},177:function(e,t,n){},219:function(e,t,n){},220:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(47),s=n.n(a),c=(n(109),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,224)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))}),i=n(0),u=(n(110),n(223)),o=n(8),l=n(69),j=n.n(l),m=n(98),b=n(26),O=n(5),d="UPLOAD_USER",f="SET_USERS",p="DELETE_USER",h="EDIT_USER",x="SELECTED_USER",v="SET_FILTER",_={users:[],selectedUser:{}},S=function(e,t,n,r,a,s){return{type:d,payload:{name:e,surname:t,patronymic:n,phone:r,status:a,createdAt:s}}},g=function(e){return{type:f,users:e}},N=function(e){return{type:p,email:e}},y=function(e,t,n,r,a,s,c){return{type:h,payload:{name:e,surname:t,patronymic:n,email:r,phone:a,status:s,editAt:c}}},E=function(e){return{type:x,email:e}},C=function(e,t,n){return{type:v,filter:{phone:e,email:t,status:n}}},U=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case f:return Object(O.a)(Object(O.a)({},t),{},{users:Object(b.a)(n.users)});case h:var r=(e=Object(b.a)(t.users)).findIndex((function(e){return e.email===n.payload.email}));return e[r]=Object(O.a)(Object(O.a)({},e[r]),n.payload),localStorage.setItem("users",JSON.stringify(e)),Object(O.a)(Object(O.a)({},t),{},{users:e});case v:var a,s=n.filter,c=s.phone,i=s.email,u=s.status;return e=Object(b.a)(t.users),c.trim()&&i.trim()&&u.trim()?a=e.filter((function(e){return c===e.phone&&i===e.email&&u===e.status})):c.trim()&&i.trim()?a=e.filter((function(e){return c===e.phone&&i===e.email})):c.trim()&&u.trim()?a=e.filter((function(e){return c===e.phone&&u===e.status})):i.trim()&&u.trim()?a=e.filter((function(e){return i===e.email&&u===e.status})):i.trim()?a=e.filter((function(e){return i===e.email})):u.trim()?a=e.filter((function(e){return u===e.status})):c.trim()&&(a=e.filter((function(e){return c===e.phone}))),Object(O.a)(Object(O.a)({},t),{},{filteredUsers:a});case p:var o=(e=Object(b.a)(t.users)).filter((function(e){return e.email!==n.email}));return localStorage.setItem("users",JSON.stringify(o)),Object(O.a)(Object(O.a)({},t),{},{users:o});case x:var l=(e=Object(b.a)(t.users)).findIndex((function(e){return e.email===n.email})),j=e[l];return Object(O.a)(Object(O.a)({},t),{},{selectedUser:j});case d:return(e=Object(b.a)(t.users)).push(n.payload),Object(O.a)(Object(O.a)({},t),{},{users:e});default:return t}},I=n(99),w=Object(o.c)({users:U,form:u.a}),A=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,D=Object(o.e)(w,A(Object(o.a)(I.a)));window.__store__=D;var F=D,L=n(28),T=n(12),k=n(9),J=n(21),R=n(23),P=(n(177),n(66),function(e){return e.users.users}),M=function(e){return e.users.selectedUser},V=function(e){return e.users.filteredUsers},Z=function(e){var t=e.selectUser,n=e.key,a=e.name,s=e.surname,c=e.patronymic,i=e.phone,u=e.status,o=e.createdAt,l=e.deleteUser,j=e.email;return Object(r.jsxs)("div",{className:"user",children:[Object(r.jsxs)("div",{className:"user__bio",children:[Object(r.jsx)("div",{children:a}),Object(r.jsx)("div",{children:s}),Object(r.jsx)("div",{children:c}),Object(r.jsx)("div",{children:i}),Object(r.jsx)("div",{children:j})]}),Object(r.jsxs)("div",{className:"user_status",children:[Object(r.jsx)("div",{children:u}),Object(r.jsx)("div",{children:o}),Object(r.jsx)("button",{onClick:function(){return l(j)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(r.jsx)("button",{onClick:function(){return t(j)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})]},n)};function B(){var e,t=Object(i.useState)({phone:"",email:"",status:""}),n=Object(R.a)(t,2),a=n[0],s=n[1],c=Object(T.d)(P),u=Object(T.d)(V),o=function(e){return l(N(e))},l=Object(T.c)();Object(i.useEffect)((function(){l(function(){var e=Object(m.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JSON.parse(localStorage.getItem("users"));case 2:(n=e.sent)||localStorage.setItem("users",JSON.stringify([])),t(g(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var b=Object(i.useState)(!1),d=Object(R.a)(b,2),f=d[0],p=d[1],h=Object(i.useState)(!1),x=Object(R.a)(h,2),v=x[0],_=x[1];if(v)return Object(r.jsx)(k.a,{to:"/edit"});if(f)return Object(r.jsx)(k.a,{to:"/create"});var S=function(e){l(E(e)),_(!0)},y=function(e){return s(Object(O.a)(Object(O.a)({},a),{},Object(J.a)({},e.target.name,e.target.value)))};return Object(r.jsxs)("div",{className:"usersList",children:[Object(r.jsx)("h2",{className:"usersList_title",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 "}),Object(r.jsx)("button",{className:"usersList__button",onClick:function(){return p(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(r.jsxs)("form",{className:"filtered_form",onSubmit:function(e){e.preventDefault(),l(C(a.phone,a.email,a.status))},children:[Object(r.jsx)("span",{className:"filterfield_title",children:"\u0424\u0438\u043b\u044c\u0442\u0440:"}),Object(r.jsx)("input",{className:"filterfield",name:"phone",onChange:y,value:a.phone,placeholder:"\u041d\u043e\u043c\u0435\u0440"}),Object(r.jsx)("input",{className:"filterfield",name:"email",onChange:y,value:a.email,placeholder:"\u041f\u043e\u0447\u0442\u0430"}),Object(r.jsxs)("select",(e={name:"user__select",value:a.status,onChange:y},Object(J.a)(e,"name","status"),Object(J.a)(e,"children",[Object(r.jsx)("option",{children:"client"}),Object(r.jsx)("option",{children:"partner"}),Object(r.jsx)("option",{children:"admin"})]),e)),Object(r.jsx)("button",{children:"\u041d\u0430\u0439\u0442\u0438"})]}),(u||c).map((function(e){return Object(r.jsx)(Z,{deleteUser:o,selectUser:S,name:e.name,surname:e.surname,patronymic:e.patronymic,email:e.email,phone:e.phone,status:e.status,createdAt:e.createdAt},e.email)}))]})}var X=n(222),q=n(221),K=n(73),Q=n(31),$=n.n(Q),z=function(e){var t=e.meta,n=t.touched,a=t.error,s=e.children,c=n&&a;return Object(r.jsxs)("div",{className:$.a.formControl+" "+(c?$.a.error:""),children:[Object(r.jsx)("div",{children:s}),c&&Object(r.jsx)("span",{children:a})]})},G=function(e){var t=e.input,n=(e.meta,Object(K.a)(e,["input","meta"]));return Object(r.jsx)(z,Object(O.a)(Object(O.a)({},e),{},{children:Object(r.jsx)("input",Object(O.a)(Object(O.a)({},t),n))}))};function H(e,t,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(r.jsxs)("div",{children:[Object(r.jsx)(X.a,Object(O.a)({className:$.a.createUser__input,placeholder:e,name:t,validate:n,component:a},s))," ",c]})}var W,Y=function(e){return e&&isNaN(Number(e))?"Must be a number":void 0},ee=function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"Invalid email address":void 0},te=function(e){if(!e)return"Field is required"},ne=(W=11,function(e){if(e&&e.length<W)return"Min length is ".concat(W," symbols")}),re=Object(q.a)({form:"user"})((function(e){var t=e.handleSubmit,n=e.error;return Object(r.jsxs)("form",{className:"user-form__form",onSubmit:t,children:[H("\u0418\u043c\u044f","name",[te],G),H("\u0424\u0430\u043c\u0438\u043b\u0438\u044f","surname",[te],G),H("\u041e\u0442\u0447\u0435\u0441\u0432\u043e","patronymic",[te],G),H("\u0422\u0435\u043b\u0435\u0444\u043e\u043d","phone",[te,Y,ne],G),H("Email","email",[te,ee],G),H("Password","password",[te,ne],G,{type:"password"}),Object(r.jsxs)(X.a,{validate:[te],className:"user-form__select",name:"status",component:"select",children:[Object(r.jsx)("option",{value:"client",children:"client"}),Object(r.jsx)("option",{value:"partner",children:"partner"}),Object(r.jsx)("option",{value:"admin",children:"admin"})]}),n&&Object(r.jsx)("div",{className:$.a.formSummaryError,children:n}),Object(r.jsx)("button",{className:"user-form__button",type:"submit",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})})),ae=function(){var e=Object(T.c)(),t=Object(i.useState)(!1),n=Object(R.a)(t,2),a=n[0],s=n[1];if(a)return Object(r.jsx)(k.a,{to:"/list"});return Object(r.jsx)("div",{className:"user-form",children:Object(r.jsx)(re,{onSubmit:function(t){console.log(t),t.createdAt=(new Date).toISOString();var n=JSON.parse(localStorage.getItem("users"));n.push(t),localStorage.setItem("users",JSON.stringify(n)),e(S(t.name,t.surname,t.patronymic,t.phone,t.status,t.createdAt)),s(!0)}})})},se=(n(219),function(){var e=Object(T.d)(M),t=Object(T.c)(),n=Object(i.useState)({name:e.name,surname:e.surname,patronymic:e.patronymic,phone:e.phone,email:e.email,status:e.status,isState:!1}),a=Object(R.a)(n,2),s=a[0],c=a[1];if(s.isState||!e.name)return Object(r.jsx)(k.a,{to:"/list"});var u=function(e){return c(Object(O.a)(Object(O.a)({},s),{},Object(J.a)({},e.target.name,e.target.value)))};return Object(r.jsx)("div",{className:"user-form",children:Object(r.jsxs)("form",{className:"user-form__form",onSubmit:function(e){var n,r,a,i,u,o,l;e.preventDefault(),n=s.name,r=s.surname,a=s.patronymic,i=s.email,u=s.phone,o=s.status,t(y(n,r,a,i,u,o,l)),c(Object(O.a)(Object(O.a)({},s),{},{isState:!0}))},children:[Object(r.jsx)("input",{className:"user-form__input",onChange:u,name:"name",value:s.name}),Object(r.jsx)("input",{className:"user-form__input",onChange:u,name:"surname",value:s.surname}),Object(r.jsx)("input",{className:"user-form__input",onChange:u,name:"patronymic",value:s.patronymic}),Object(r.jsx)("input",{className:"user-form__input",onChange:u,name:"phone",value:s.phone}),Object(r.jsx)("input",{className:"user-form__input",onChange:u,name:"email",value:s.email}),Object(r.jsxs)("select",{className:"user-form__input",onChange:u,name:"status",children:[Object(r.jsx)("option",{children:"client"}),Object(r.jsx)("option",{children:"partner"}),Object(r.jsx)("option",{children:"admin"})]}),Object(r.jsx)("button",{className:"user-form__button",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})})});function ce(){return Object(r.jsx)("div",{className:"home",children:Object(r.jsxs)(k.d,{children:[Object(r.jsx)(k.b,{path:"/",render:function(){return Object(r.jsx)(B,{})}}),Object(r.jsx)(k.b,{path:"/create",render:function(){return Object(r.jsx)(ae,{})}}),Object(r.jsx)(k.b,{path:"/edit",render:function(){return Object(r.jsx)(se,{})}})]})})}var ie=function(){return Object(r.jsx)(L.a,{basename:"/list-users",children:Object(r.jsx)(T.a,{store:F,children:Object(r.jsx)(ce,{})})})};s.a.render(Object(r.jsx)(ie,{}),document.getElementById("root")),c()},31:function(e,t,n){e.exports={formControl:"FormControl_formControl__3Nt3v",error:"FormControl_error__1k3eV",formSummaryError:"FormControl_formSummaryError__3aVKt",createUser__input:"FormControl_createUser__input__1Qx5c"}},66:function(e,t,n){}},[[220,1,2]]]);
//# sourceMappingURL=main.a1049b90.chunk.js.map